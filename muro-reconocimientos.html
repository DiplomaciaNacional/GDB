<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Muro de Reconocimientos - GDB</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&family=Playfair+Display:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <style>
        /* Estilos espec铆ficos para el Muro de Reconocimientos */
        .muro-hero {
            background: linear-gradient(135deg, rgba(139, 0, 0, 0.85), rgba(212, 175, 55, 0.85));
            color: white;
            text-align: center;
            padding: 150px 5% 80px;
            margin-bottom: 40px;
            position: relative;
            overflow: hidden;
        }

        .muro-hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: url('https://images.unsplash.com/photo-1558618666-fcd25c85cd64?ixlib=rb-4.0.3&auto=format&fit=crop&w=1600&q=80');
            background-size: cover;
            background-position: center;
            opacity: 0.2;
            z-index: 1;
        }

        .muro-hero > * {
            position: relative;
            z-index: 2;
        }

        .muro-hero h1 {
            color: white;
            font-size: 3rem;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .muro-hero p {
            font-size: 1.2rem;
            max-width: 800px;
            margin: 0 auto 30px;
            opacity: 0.95;
        }

        .trophy-icon {
            font-size: 4rem;
            margin-bottom: 30px;
            display: inline-block;
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .muro-container {
            padding: 40px 5%;
            max-width: 1200px;
            margin: 0 auto;
        }

        .categorias-reconocimiento {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 40px;
            justify-content: center;
        }

        .categoria-card {
            flex: 1;
            min-width: 200px;
            max-width: 300px;
            background-color: white;
            border-radius: 10px;
            padding: 25px;
            text-align: center;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);
            transition: var(--transition);
            border-top: 4px solid;
            cursor: pointer;
        }

        .categoria-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.12);
        }

        .categoria-card.delegado {
            border-color: var(--burgundy);
        }

        .categoria-card.orador {
            border-color: var(--gold);
        }

        .categoria-card.organizacion {
            border-color: var(--dark-green);
        }

        .categoria-card.voluntario {
            border-color: #2196f3;
        }

        .categoria-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
        }

        .categoria-card.delegado .categoria-icon { color: var(--burgundy); }
        .categoria-card.orador .categoria-icon { color: var(--gold); }
        .categoria-card.organizacion .categoria-icon { color: var(--dark-green); }
        .categoria-card.voluntario .categoria-icon { color: #2196f3; }

        .categoria-title {
            font-size: 1.2rem;
            color: var(--dark-gray);
            margin-bottom: 10px;
            font-weight: 600;
        }

        .categoria-desc {
            font-size: 0.9rem;
            color: var(--medium-gray);
            line-height: 1.5;
        }

        .reconocimientos-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 30px;
            margin-bottom: 60px;
        }

        .reconocimiento-card {
            background-color: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
            transition: var(--transition);
            position: relative;
            border: 2px solid transparent;
        }

        .reconocimiento-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.12);
            border-color: var(--gold);
        }

        .reconocimiento-badge {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 60px;
            height: 60px;
            background-color: var(--gold);
            color: var(--dark-gray);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            font-weight: 700;
            box-shadow: 0 4px 10px rgba(212, 175, 55, 0.3);
        }

        .reconocimiento-header {
            padding: 30px 30px 20px;
            background: linear-gradient(135deg, var(--dark-green), #008000);
            color: white;
            position: relative;
            min-height: 180px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }

        .reconocimiento-avatar {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            border: 4px solid var(--gold);
            overflow: hidden;
            margin-bottom: 15px;
            background-color: white;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .reconocimiento-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .reconocimiento-avatar i {
            font-size: 3rem;
            color: var(--burgundy);
        }

        .reconocimiento-nombre {
            font-size: 1.4rem;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .reconocimiento-categoria {
            font-size: 0.9rem;
            opacity: 0.9;
            background-color: rgba(255, 255, 255, 0.2);
            padding: 5px 15px;
            border-radius: 20px;
            display: inline-block;
        }

        .reconocimiento-content {
            padding: 25px;
        }

        .reconocimiento-logros {
            margin-bottom: 20px;
        }

        .logro-item {
            display: flex;
            align-items: flex-start;
            gap: 10px;
            margin-bottom: 12px;
            padding-bottom: 12px;
            border-bottom: 1px dashed #eee;
        }

        .logro-item:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }

        .logro-item i {
            color: var(--gold);
            margin-top: 3px;
            flex-shrink: 0;
        }

        .reconocimiento-fecha {
            color: var(--medium-gray);
            font-size: 0.9rem;
            font-style: italic;
            text-align: center;
            padding-top: 15px;
            border-top: 1px solid #eee;
        }

        .mensaje-destacado {
            background-color: rgba(212, 175, 55, 0.1);
            border-left: 4px solid var(--gold);
            padding: 20px;
            border-radius: 5px;
            margin-top: 15px;
            font-style: italic;
            line-height: 1.6;
        }

        .mes-destacado {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px;
            background: linear-gradient(135deg, var(--light-gray), white);
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.05);
        }

        .mes-destacado h2 {
            color: var(--burgundy);
            margin-bottom: 10px;
        }

        .mes-destacado .ganador-destacado {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .ganador-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            border: 3px solid var(--gold);
            overflow: hidden;
            background-color: white;
        }

        .ganador-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .ganador-info {
            text-align: left;
        }

        .ganador-info h4 {
            color: var(--dark-green);
            margin-bottom: 5px;
        }

        .ganador-info p {
            margin-bottom: 0;
            color: var(--medium-gray);
        }

        .stats-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
            margin-bottom: 60px;
        }

        .stat-card-rec {
            background-color: white;
            border-radius: 10px;
            padding: 25px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.08);
            text-align: center;
            border-top: 4px solid var(--burgundy);
        }

        .stat-icon {
            font-size: 2.5rem;
            color: var(--gold);
            margin-bottom: 15px;
        }

        .stat-number-rec {
            font-size: 2.2rem;
            font-weight: 700;
            color: var(--dark-green);
            margin: 10px 0;
        }

        .stat-label-rec {
            color: var(--medium-gray);
            font-size: 0.9rem;
        }

        .nominar-section {
            background-color: var(--light-gray);
            border-radius: 15px;
            padding: 40px;
            margin-bottom: 60px;
        }

        .nominar-section h2 {
            color: var(--dark-green);
            text-align: center;
            margin-bottom: 30px;
        }

        .nominar-form {
            max-width: 600px;
            margin: 0 auto;
        }

        .form-row {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .form-group-half {
            flex: 1;
            min-width: 250px;
        }

        .btn-nominar {
            background-color: var(--burgundy);
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 5px;
            cursor: pointer;
            font-weight: 600;
            font-size: 1.1rem;
            width: 100%;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin-top: 20px;
        }

        .btn-nominar:hover {
            background-color: #6a0000;
        }

        .loading {
            text-align: center;
            padding: 40px;
            color: var(--medium-gray);
        }

        .loading i {
            font-size: 2rem;
            margin-bottom: 20px;
            color: var(--gold);
        }

        .error-message {
            background-color: #ffebee;
            color: #c62828;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            text-align: center;
            border-left: 4px solid #c62828;
        }

        @media (max-width: 768px) {
            .muro-hero h1 {
                font-size: 2.2rem;
            }

            .muro-hero {
                padding: 120px 5% 60px;
            }

            .categorias-reconocimiento {
                flex-direction: column;
                align-items: center;
            }

            .categoria-card {
                width: 100%;
                max-width: 400px;
            }

            .reconocimientos-grid {
                grid-template-columns: 1fr;
            }

            .form-row {
                flex-direction: column;
            }

            .form-group-half {
                width: 100%;
            }

            .reconocimiento-badge {
                width: 50px;
                height: 50px;
                font-size: 1.5rem;
                top: 15px;
                right: 15px;
            }
        }

        /* Efecto de brillo para los ganadores */
        @keyframes glow {
            0% { box-shadow: 0 0 5px rgba(212, 175, 55, 0.5); }
            50% { box-shadow: 0 0 20px rgba(212, 175, 55, 0.8); }
            100% { box-shadow: 0 0 5px rgba(212, 175, 55, 0.5); }
        }

        .reconocimiento-card.destacado {
            animation: glow 2s infinite;
            border-color: var(--gold);
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <nav class="navbar">
            <div class="logo-container">
                <div class="logo">
                    <img src="img/LOGO GDB.png" alt="Logo GDB" class="logo-large">
                </div>
                <div class="logo-text">
                    <span class="gdb">GDB</span>
                    <span class="full-name">Muro de Reconocimientos</span>
                </div>
            </div>
            <ul class="nav-links">
                <li><a href="index.html">Inicio</a></li>
                <li><a href="index.html#comunidad">Comunidad</a></li>
                <li><a href="banco-iniciativas.html">Banco de Ideas</a></li>
                <li><a href="muro-reconocimientos.html" class="active">Reconocimientos</a></li>
                <li><a href="directorio.html">Directorio</a></li>
                <li><a href="index.html#contacto">Contacto</a></li>
            </ul>
            <div class="menu-toggle">
                <i class="fas fa-bars"></i>
            </div>
        </nav>
    </header>

    <!-- Hero Section -->
    <section class="muro-hero">
        <div class="trophy-icon">
            
        </div>
        <h1>Muro de Reconocimientos GDB</h1>
        <p>Celebramos el esfuerzo, dedicaci贸n y logros de nuestros miembros. Cada reconocimiento es un testimonio del compromiso con la excelencia y el servicio a la comunidad.</p>
    </section>

    <!-- Contenido Principal -->
    <div class="muro-container">
        <!-- Mes Destacado -->
        <div class="mes-destacado" id="mesDestacado">
            <div class="loading">
                <i class="fas fa-spinner fa-spin"></i>
                <p>Cargando reconocimiento del mes...</p>
            </div>
        </div>

        <!-- Estad铆sticas -->
        <div class="stats-section" id="statsSection">
            <div class="loading">
                <i class="fas fa-spinner fa-spin"></i>
                <p>Cargando estad铆sticas...</p>
            </div>
        </div>

        <!-- Categor铆as de Reconocimiento -->
        <h2>Categor铆as de Reconocimiento</h2>
        <p class="section-subtitle">Celebramos la excelencia en diferentes 谩reas del desarrollo juvenil</p>
        
        <div class="categorias-reconocimiento">
            <div class="categoria-card delegado" onclick="filtrarPorCategoria('delegado')">
                <div class="categoria-icon"></div>
                <h3 class="categoria-title">Delegado Destacado</h3>
                <p class="categoria-desc">Reconocemos el compromiso y participaci贸n excepcional en actividades GDB, representaci贸n institucional y dedicaci贸n al crecimiento de la organizaci贸n.</p>
            </div>
            
            <div class="categoria-card orador" onclick="filtrarPorCategoria('orador')">
                <div class="categoria-icon"></div>
                <h3 class="categoria-title">Mejor Orador</h3>
                <p class="categoria-desc">Destacamos la excelencia en comunicaci贸n, habilidades de debate, persuasi贸n y capacidad para expresar ideas con claridad y convicci贸n.</p>
            </div>
            
            <div class="categoria-card organizacion" onclick="filtrarPorCategoria('organizacion')">
                <div class="categoria-icon"></div>
                <h3 class="categoria-title">Mejor Organizaci贸n Aliada</h3>
                <p class="categoria-desc">Reconocemos la colaboraci贸n, apoyo y trabajo conjunto con organizaciones que comparten nuestra visi贸n de desarrollo juvenil.</p>
            </div>
            
            <div class="categoria-card voluntario" onclick="filtrarPorCategoria('voluntario')">
                <div class="categoria-icon">わ</div>
                <h3 class="categoria-title">Voluntario del Mes</h3>
                <p class="categoria-desc">Valoramos el compromiso con el servicio a la comunidad, participaci贸n en actividades sociales y esp铆ritu de ayuda desinteresada.</p>
            </div>
        </div>

        <!-- Grid de Reconocimientos -->
        <h2>Reconocimientos Otorgados</h2>
        <p class="section-subtitle">Conoce a los miembros que han sido destacados por su excelente trabajo</p>
        
        <div class="reconocimientos-grid" id="reconocimientosGrid">
            <div class="loading">
                <i class="fas fa-spinner fa-spin"></i>
                <p>Cargando reconocimientos...</p>
            </div>
        </div>

        <!-- Secci贸n para Nominar -->
        <div class="nominar-section">
            <h2><i class="fas fa-user-plus"></i> 驴Conoces a alguien que merezca un reconocimiento?</h2>
            <p class="section-subtitle">Puedes nominar a cualquier miembro de GDB para ser considerado en nuestras pr贸ximas evaluaciones</p>
            
            <form class="nominar-form" id="formNominar">
                <div class="form-row">
                    <div class="form-group form-group-half">
                        <label for="nominadoNombre">Nombre del Nominado</label>
                        <input type="text" id="nominadoNombre" class="form-control" required placeholder="Nombre completo del miembro">
                    </div>
                    
                    <div class="form-group form-group-half">
                        <label for="nominadoCategoria">Categor铆a</label>
                        <select id="nominadoCategoria" class="form-control" required>
                            <option value="">Selecciona una categor铆a</option>
                            <option value="delegado">Delegado Destacado</option>
                            <option value="orador">Mejor Orador</option>
                            <option value="voluntario">Voluntario del Mes</option>
                            <option value="innovador">Innovador del A帽o</option>
                            <option value="lider">L铆der Emergente</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="nominadoRazon">Razones de la Nominaci贸n</label>
                    <textarea id="nominadoRazon" class="form-control" required rows="4" 
                              placeholder="Describe en detalle por qu茅 crees que esta persona merece el reconocimiento. Incluye logros espec铆ficos, eventos o acciones destacadas."></textarea>
                </div>
                
                <div class="form-row">
                    <div class="form-group form-group-half">
                        <label for="nominadorNombre">Tu Nombre</label>
                        <input type="text" id="nominadorNombre" class="form-control" required placeholder="Tu nombre completo">
                    </div>
                    
                    <div class="form-group form-group-half">
                        <label for="nominadorContacto">Tu Contacto</label>
                        <input type="email" id="nominadorContacto" class="form-control" required placeholder="Email o tel茅fono para seguimiento">
                    </div>
                </div>
                
                <button type="submit" class="btn-nominar" id="btnNominar">
                    <i class="fas fa-paper-plane"></i> Enviar Nominaci贸n
                </button>
            </form>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo">
                    <div class="logo">
                        <img src="img/LOGO GDB.png" alt="Logo GDB" class="logo-large">
                    </div>
                    <div class="footer-logo-text">
                        <h3>Muro de Reconocimientos GDB</h3>
                        <p>Celebrando la excelencia de nuestros miembros</p>
                    </div>
                </div>

                <div class="footer-links">
                    <h4>Enlaces R谩pidos</h4>
                    <ul>
                        <li><a href="index.html">Inicio</a></li>
                        <li><a href="banco-iniciativas.html">Banco de Ideas</a></li>
                        <li><a href="directorio.html">Directorio</a></li>
                        <li><a href="index.html#actividades">Actividades</a></li>
                    </ul>
                </div>

                <div class="footer-social">
                    <h4>S铆guenos</h4>
                    <div class="social-icons">
                        <a href="https://instagram.com/delegacion_gdb" target="_blank"><i class="fab fa-instagram"></i></a>
                        <a href="https://www.tiktok.com/@delegacion_gdb" target="_blank"><i class="fab fa-tiktok"></i></a>
                    </div>
                    <div class="hashtags">
                        <span>#GDBReconocimientos</span>
                        <span>#ExcelenciaGDB</span>
                        <span>#OrgulloGDB</span>
                    </div>
                </div>
            </div>

            <div class="footer-bottom">
                <p>&copy; 2025 Muro de Reconocimientos - GDB. Celebrando el m茅rito y la dedicaci贸n.</p>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // CONFIGURACIN DE GOOGLE APPS SCRIPT
            const GAS_URL = "https://script.google.com/macros/s/AKfycbzMfMMpE0bxvEj97_pm1LoTyHz7cbZ42guwExhcHJwIf0uiyJQ-mQkQ09p2om2R4d2M/exec"; // REEMPLAZA CON TU URL
            
            // Variables globales
            let reconocimientos = [];
            let categoriaFiltro = 'todas';
            
            // Inicializar el men煤 responsive
            const menuToggle = document.querySelector('.menu-toggle');
            const navLinks = document.querySelector('.nav-links');
            
            if (menuToggle) {
                menuToggle.addEventListener('click', function() {
                    navLinks.classList.toggle('active');
                });
            }
            
            document.querySelectorAll('.nav-links a').forEach(link => {
                link.addEventListener('click', () => {
                    navLinks.classList.remove('active');
                });
            });
            
            // ============================================
            // FUNCIONES PARA CONECTAR CON GOOGLE SHEETS
            // ============================================
            
            // Funci贸n para obtener todos los reconocimientos
            async function obtenerReconocimientos() {
                try {
                    const response = await fetch(`${GAS_URL}?action=obtenerReconocimientos`);
                    const data = await response.json();
                    
                    if (data.success) {
                        reconocimientos = data.reconocimientos;
                        actualizarEstadisticas();
                        mostrarReconocimientos();
                        mostrarMesDestacado();
                    } else {
                        throw new Error(data.message || 'Error al cargar reconocimientos');
                    }
                } catch (error) {
                    console.error('Error al obtener reconocimientos:', error);
                    mostrarError('No se pudieron cargar los reconocimientos. Intenta nuevamente.');
                }
            }
            
            // Funci贸n para enviar una nominaci贸n
            async function enviarNominacion(nominacion) {
                try {
                    const response = await fetch(GAS_URL, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({
                            action: 'enviarNominacion',
                            ...nominacion
                        })
                    });
                    
                    const data = await response.json();
                    
                    if (data.success) {
                        return { success: true };
                    } else {
                        throw new Error(data.message || 'Error al enviar nominaci贸n');
                    }
                } catch (error) {
                    console.error('Error al enviar nominaci贸n:', error);
                    return { success: false, error: error.message };
                }
            }
            
            // ============================================
            // FUNCIONES DE LA INTERFAZ
            // ============================================
            
            // Actualizar estad铆sticas
            function actualizarEstadisticas() {
                const statsSection = document.getElementById('statsSection');
                const totalReconocimientos = reconocimientos.length;
                const miembrosReconocidos = new Set(reconocimientos.map(r => r.nombre)).size;
                const meses = new Set(reconocimientos.map(r => {
                    const fecha = new Date(r.fecha);
                    return fecha.getFullYear() + '-' + (fecha.getMonth() + 1);
                })).size;
                const puntosTotales = totalReconocimientos * 100;
                
                statsSection.innerHTML = `
                    <div class="stat-card-rec">
                        <div class="stat-icon">
                            <i class="fas fa-award"></i>
                        </div>
                        <div class="stat-number-rec">${totalReconocimientos}</div>
                        <div class="stat-label-rec">Reconocimientos Otorgados</div>
                    </div>
                    
                    <div class="stat-card-rec">
                        <div class="stat-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="stat-number-rec">${miembrosReconocidos}</div>
                        <div class="stat-label-rec">Miembros Reconocidos</div>
                    </div>
                    
                    <div class="stat-card-rec">
                        <div class="stat-icon">
                            <i class="fas fa-calendar-alt"></i>
                        </div>
                        <div class="stat-number-rec">${meses}</div>
                        <div class="stat-label-rec">Meses de Reconocimiento</div>
                    </div>
                    
                    <div class="stat-card-rec">
                        <div class="stat-icon">
                            <i class="fas fa-star"></i>
                        </div>
                        <div class="stat-number-rec">${puntosTotales}</div>
                        <div class="stat-label-rec">Puntos de M茅rito</div>
                    </div>
                `;
            }
            
            // Mostrar reconocimiento del mes
            function mostrarMesDestacado() {
                const mesDestacadoDiv = document.getElementById('mesDestacado');
                
                if (reconocimientos.length === 0) {
                    mesDestacadoDiv.innerHTML = `
                        <h2><i class="fas fa-crown"></i> Reconocimiento del Mes</h2>
                        <p class="section-subtitle">A煤n no hay reconocimientos otorgados</p>
                        <p>S茅 el primero en nominar a alguien usando el formulario de abajo.</p>
                    `;
                    return;
                }
                
                // Encontrar el reconocimiento m谩s reciente
                const masReciente = reconocimientos.reduce((prev, current) => {
                    return new Date(prev.fecha) > new Date(current.fecha) ? prev : current;
                });
                
                mesDestacadoDiv.innerHTML = `
                    <h2><i class="fas fa-crown"></i> Reconocimiento del Mes</h2>
                    <p class="section-subtitle">${new Date(masReciente.fecha).toLocaleDateString('es-ES', { month: 'long', year: 'numeric' })} - ${obtenerNombreCategoria(masReciente.categoria)}</p>
                    
                    <div class="ganador-destacado">
                        <div class="ganador-avatar">
                            ${masReciente.imagen ? 
                                `<img src="${masReciente.imagen}" alt="${masReciente.nombre}" onerror="this.onerror=null; this.src='data:image/svg+xml;charset=UTF-8,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>${masReciente.nombre.charAt(0)}</text></svg>'; this.style.color='var(--burgundy)'; this.style.fontSize='2rem'; this.innerHTML='${masReciente.nombre.charAt(0)}';">` :
                                `<i class="fas fa-user"></i>`
                            }
                        </div>
                        <div class="ganador-info">
                            <h4>${masReciente.nombre}</h4>
                            <p><strong>${masReciente.cargo || 'Miembro GDB'}</strong></p>
                            <p>${masReciente.mensaje || 'Reconocido por su excelente trabajo y dedicaci贸n.'}</p>
                        </div>
                    </div>
                `;
            }
            
            // Mostrar reconocimientos en el grid
            function mostrarReconocimientos() {
                const grid = document.getElementById('reconocimientosGrid');
                
                if (reconocimientos.length === 0) {
                    grid.innerHTML = `
                        <div class="no-data" style="grid-column: 1 / -1; text-align: center; padding: 40px; color: var(--medium-gray);">
                            <i class="fas fa-award" style="font-size: 3rem; color: #ddd; margin-bottom: 20px;"></i>
                            <h3>No hay reconocimientos disponibles</h3>
                            <p>A煤n no se han otorgado reconocimientos. S茅 el primero en nominar a alguien.</p>
                        </div>
                    `;
                    return;
                }
                
                let reconocimientosFiltrados = [...reconocimientos];
                
                // Aplicar filtro de categor铆a
                if (categoriaFiltro !== 'todas') {
                    reconocimientosFiltrados = reconocimientosFiltrados.filter(r => r.categoria === categoriaFiltro);
                }
                
                // Ordenar por fecha (m谩s recientes primero)
                reconocimientosFiltrados.sort((a, b) => new Date(b.fecha) - new Date(a.fecha));
                
                // Generar HTML
                grid.innerHTML = reconocimientosFiltrados.map(rec => {
                    const categoriaNombre = obtenerNombreCategoria(rec.categoria);
                    const categoriaIcon = obtenerIconoCategoria(rec.categoria);
                    const categoriaColor = obtenerColorCategoria(rec.categoria);
                    
                    return `
                    <div class="reconocimiento-card" data-id="${rec.id}">
                        <div class="reconocimiento-badge">${categoriaIcon}</div>
                        <div class="reconocimiento-header" style="background: linear-gradient(135deg, ${categoriaColor}, ${categoriaColor}99)">
                            <div class="reconocimiento-avatar">
                                ${rec.imagen ? 
                                    `<img src="${rec.imagen}" alt="${rec.nombre}" onerror="this.onerror=null; this.src='data:image/svg+xml;charset=UTF-8,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>${rec.nombre.charAt(0)}</text></svg>'; this.style.color='var(--burgundy)'; this.style.fontSize='2rem'; this.innerHTML='${rec.nombre.charAt(0)}';">` :
                                    `<i class="fas fa-user"></i>`
                                }
                            </div>
                            <h3 class="reconocimiento-nombre">${rec.nombre}</h3>
                            <span class="reconocimiento-categoria">${rec.cargo || 'Miembro GDB'}</span>
                        </div>
                        <div class="reconocimiento-content">
                            <div class="reconocimiento-logros">
                                ${Array.isArray(rec.logros) ? rec.logros.map(logro => `
                                    <div class="logro-item">
                                        <i class="fas fa-check-circle"></i>
                                        <span>${logro}</span>
                                    </div>
                                `).join('') : ''}
                            </div>
                            
                            ${rec.mensaje ? `
                                <div class="mensaje-destacado">
                                    <i class="fas fa-quote-left"></i> ${rec.mensaje}
                                </div>
                            ` : ''}
                            
                            <div class="reconocimiento-fecha">
                                <i class="fas fa-calendar-alt"></i> Reconocido el ${new Date(rec.fecha).toLocaleDateString('es-ES')} - ${categoriaNombre}
                            </div>
                        </div>
                    </div>
                    `;
                }).join('');
            }
            
            // Funciones auxiliares para categor铆as
            function obtenerNombreCategoria(categoria) {
                const categorias = {
                    'delegado': 'Delegado Destacado',
                    'orador': 'Mejor Orador',
                    'organizacion': 'Mejor Organizaci贸n Aliada',
                    'voluntario': 'Voluntario del Mes',
                    'innovador': 'Innovador del A帽o',
                    'lider': 'L铆der Emergente'
                };
                return categorias[categoria] || categoria;
            }
            
            function obtenerIconoCategoria(categoria) {
                const iconos = {
                    'delegado': '',
                    'orador': '',
                    'organizacion': '',
                    'voluntario': 'わ',
                    'innovador': '',
                    'lider': ''
                };
                return iconos[categoria] || '';
            }
            
            function obtenerColorCategoria(categoria) {
                const colores = {
                    'delegado': 'var(--burgundy)',
                    'orador': 'var(--gold)',
                    'organizacion': 'var(--dark-green)',
                    'voluntario': '#2196f3',
                    'innovador': '#9c27b0',
                    'lider': '#ff9800'
                };
                return colores[categoria] || '#666';
            }
            
            // Funci贸n para filtrar por categor铆a
            window.filtrarPorCategoria = function(categoria) {
                categoriaFiltro = categoria;
                mostrarReconocimientos();
                
                // Resaltar la categor铆a seleccionada
                document.querySelectorAll('.categoria-card').forEach(card => {
                    card.style.transform = '';
                    card.style.boxShadow = '';
                });
                
                const cardSeleccionada = document.querySelector(`.categoria-card.${categoria}`);
                if (cardSeleccionada) {
                    cardSeleccionada.style.transform = 'translateY(-5px) scale(1.05)';
                    cardSeleccionada.style.boxShadow = '0 15px 30px rgba(0, 0, 0, 0.15)';
                }
            };
            
            // ============================================
            // MANEJADORES DE EVENTOS
            // ============================================
            
            // Manejar env铆o de nominaci贸n
            document.getElementById('formNominar').addEventListener('submit', async function(e) {
                e.preventDefault();
                
                const nominadoNombre = document.getElementById('nominadoNombre').value.trim();
                const nominadoCategoria = document.getElementById('nominadoCategoria').value;
                const nominadoRazon = document.getElementById('nominadoRazon').value.trim();
                const nominadorNombre = document.getElementById('nominadorNombre').value.trim();
                const nominadorContacto = document.getElementById('nominadorContacto').value.trim();
                
                if (!nominadoNombre || !nominadoCategoria || !nominadoRazon || !nominadorNombre || !nominadorContacto) {
                    mostrarNotificacion('Por favor completa todos los campos', 'error');
                    return;
                }
                
                const btnNominar = document.getElementById('btnNominar');
                const originalText = btnNominar.innerHTML;
                btnNominar.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Enviando...';
                btnNominar.disabled = true;
                
                try {
                    const nuevaNominacion = {
                        nominado: nominadoNombre,
                        categoria: nominadoCategoria,
                        razon: nominadoRazon,
                        nominador: nominadorNombre,
                        contacto: nominadorContacto,
                        fecha: new Date().toISOString()
                    };
                    
                    const resultado = await enviarNominacion(nuevaNominacion);
                    
                    if (resultado.success) {
                        // Limpiar formulario
                        document.getElementById('formNominar').reset();
                        
                        mostrarNotificacion('隆Nominaci贸n enviada exitosamente! El comit茅 evaluar谩 tu propuesta en las pr贸ximas semanas.', 'success');
                        
                        // Recargar datos despu茅s de un tiempo
                        setTimeout(() => {
                            obtenerReconocimientos();
                        }, 2000);
                    } else {
                        throw new Error(resultado.error);
                    }
                } catch (error) {
                    console.error('Error al enviar nominaci贸n:', error);
                    mostrarNotificacion('Error al enviar la nominaci贸n. Intenta nuevamente.', 'error');
                } finally {
                    btnNominar.innerHTML = originalText;
                    btnNominar.disabled = false;
                }
            });
            
            // ============================================
            // FUNCIONES DE UTILIDAD
            // ============================================
            
            // Funci贸n para mostrar notificaciones
            function mostrarNotificacion(mensaje, tipo = 'info') {
                const notificacion = document.createElement('div');
                const colores = {
                    success: '#2e7d32',
                    error: '#d32f2f',
                    warning: '#f57c00',
                    info: '#1976d2'
                };
                
                notificacion.style.cssText = `
                    position: fixed;
                    top: 20px;
                    right: 20px;
                    background-color: ${colores[tipo] || '#1976d2'};
                    color: white;
                    padding: 15px 25px;
                    border-radius: 8px;
                    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
                    z-index: 9999;
                    display: flex;
                    align-items: center;
                    gap: 10px;
                    animation: slideIn 0.3s ease-out;
                    max-width: 400px;
                    font-size: 0.95rem;
                `;
                
                notificacion.innerHTML = `
                    <i class="fas fa-${tipo === 'success' ? 'check-circle' : 
                                      tipo === 'error' ? 'exclamation-circle' :
                                      tipo === 'warning' ? 'exclamation-triangle' : 'info-circle'}"></i>
                    <span>${mensaje}</span>
                `;
                
                document.body.appendChild(notificacion);
                
                setTimeout(() => {
                    notificacion.style.animation = 'fadeOut 0.3s ease-out';
                    setTimeout(() => {
                        if (notificacion.parentNode) document.body.removeChild(notificacion);
                    }, 300);
                }, 5000);
            }
            
            // Funci贸n para mostrar error
            function mostrarError(mensaje) {
                const grid = document.getElementById('reconocimientosGrid');
                grid.innerHTML = `
                    <div class="error-message" style="grid-column: 1 / -1;">
                        <i class="fas fa-exclamation-triangle"></i>
                        <h3>Error de conexi贸n</h3>
                        <p>${mensaje}</p>
                        <button onclick="location.reload()" style="margin-top: 10px; padding: 8px 16px; background-color: var(--burgundy); color: white; border: none; border-radius: 4px; cursor: pointer;">
                            Reintentar
                        </button>
                    </div>
                `;
            }
            
            // Inicializar
            obtenerReconocimientos();
            
            // A帽adir estilos CSS para animaciones
            const style = document.createElement('style');
            style.textContent = `
                @keyframes slideIn {
                    from { transform: translateX(100%); opacity: 0; }
                    to { transform: translateX(0); opacity: 1; }
                }
                @keyframes fadeOut {
                    from { opacity: 1; }
                    to { opacity: 0; }
                }
            `;
            document.head.appendChild(style);
        });
    </script>
</body>
</html>